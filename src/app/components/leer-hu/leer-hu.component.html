<div style="padding: 3px"></div>
<form focusInvalidInput [formGroup]="forma" (ngSubmit)="submit()">
    <div class="form-horizontal">
        <mat-card>
            <mat-card-content>
                <div class="form-group">
                    <div class="col-sm-12">
                        <mat-form-field class="full-width">
                            <input matInput placeholder="Planilla de recoleccion" id="txtNumPlanillarD" name="txtNumPlanillarD" formControlName="txtNumPlanillarD">
                        </mat-form-field>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-12">
                        <mat-form-field class="full-width">
                            <input matInput placeholder="No HU" style="font-size: 28px;" (change)="hola()" id="txtHU" formControlName="txtHU" autofocus>
                        </mat-form-field>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-12">
                        <mat-form-field class="full-width">
                            <mat-label>Seleccione zona</mat-label>
                            <mat-select (selectionChange)="consultarHU()" formControlName="drpZona" id="drpZona">
                                <mat-option>--Seleccione zona--</mat-option>
                                <mat-option value="7-CUN">CUN</mat-option>
                                <mat-option value="1-CBO">CBO</mat-option>
                                <mat-option value="2-CAM">CAM</mat-option>
                                <mat-option value="3-NOC">NOC</mat-option>
                                <mat-option value="4-SOC">SOC</mat-option>
                                <mat-option value="5-CRE">CRE</mat-option>
                                <mat-option value="6-RES">RES</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>
                <app-loading mensaje="Leyendo HU" *ngIf="cargandoHU"></app-loading>
                <div style="padding: 3px"></div>
                <app-messages [mensaje]="mensaje_hu" [tipo]="tipo_mensaje" *ngIf="mensaje_hu"></app-messages>
            </mat-card-content>
        </mat-card>
    </div>
    <div style="height: 30px;"></div>
    <div class="form-horizontal" *ngIf="items.length > 0">
        <mat-card>
            <mat-card-content>
                <div class="form-group">
                    <div class="col-sm-12"><b>Hus ({{ items.length }})</b></div>
                </div>

                <div class="form-group">
                    <div class="col-sm-12">
                        <table class="tabla tabla-bordered">
                            <tr style="font-weight: bold;" align="center">
                                <td>#</td>
                                <td>HU</td>
                                <td>ID</td>
                                <td>Gu√≠as</td>
                                <td>Cod_Zona</td>
                                <td>Zona</td>
                                <td></td>
                            </tr>
                            <tr *ngFor="let item of items; let i = index" align="center">
                                <td>{{ i + 1 }}</td>
                                <td><b>{{ item.hu }}</b></td>
                                <td><b>{{ item.id }}</b></td>
                                <td>{{ item.guias }}</td>
                                <td>{{ item.cod_zona }}</td>
                                <td>{{ item.nom_zona }}</td>
                                <td (click)="eliminarHU(i)" style="cursor: pointer;">
                                    <span class="material-icons">
                                        restore_from_trash
                                    </span>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-12">
                        <button mat-raised-button (click)="cargar_t0400300()" color="primary">
                            Nueva planilla
                        </button>
                    </div>
                </div>
                <app-loading mensaje="Recogiendo" *ngIf="cargandoRecogida"></app-loading>
            </mat-card-content>
        </mat-card>
    </div>
</form>